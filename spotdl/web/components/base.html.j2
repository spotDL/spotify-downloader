<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <title>spotdl</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Import Datastar -->
    <!-- <script type="module" src="/datastar.js"></script> -->
    <script type="module" src="https://cdn.jsdelivr.net/gh/starfederation/datastar@main/bundles/datastar.js"></script>
    <!-- Import DaisyUI -->
    <!-- <link href="/daisyui@5.css" rel="stylesheet" type="text/css" /> -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5" rel="stylesheet" type="text/css" />
    <link href="https://cdn.jsdelivr.net/npm/daisyui@5/themes.css" rel="stylesheet" type="text/css" />
    <!-- Import tailwindcss -->
    <!-- <script src="/browser@4.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <!-- Import Iconify -->
    <script src="https://code.iconify.design/iconify-icon/3.0.0/iconify-icon.min.js"></script>
</head>

<style>
    iconify-icon {
        display: inline-block;
        width: 1em;
        height: 1em;
    }

    div#banner {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
    }

    div#banner-content {
        background-color: #eedddd;
        width: 100%;
        margin: 0 auto;
        padding: calc(var(--spacing) * 4);
        text-align: center;
    }
</style>

<body data-signals="{'client_id': ''}" data-on-load="@get('/client/load')">

    <div class="bg-base-300 absolute w-full t-0">
        <div class="flex justify-end absolute top-0 right-0">
            <!-- Theme Switcher -->
            <label class="swap">
                <input type="checkbox" />
                <div class="swap-on">Light</div>
                <div class="swap-off">Dark</div>
            </label>

            <!-- Settings Button -->
            <button class="btn btn-square m-2"
                data-on-click="@get('/client/component/settings-content'); settings_modal.showModal()">
                <iconify-icon icon="clarity:settings-line" style="font-size: 24px"></iconify-icon>
            </button>
        </div>

        <div id="banner">
            <div id="banner-content">
                Connecting to server...
            </div>
        </div>

        {# <nav>
            {% for menu_item in ["home", "search"] %}
            <a href="{{ url_for(menu_item) }}">{{ menu_item }}</a>
            {% endfor %}
        </nav> #}

        <!-- Home -->
        {% block content %}
        <!-- <span id="component-home" data-on-load="@get('/client/component/home')"></span> -->
        <span id="router-view"></span>
        {% endblock content %}

        <!-- Display all signals -->
        <pre data-json-signals></pre>
        {# <span id="time"></span> #}

        <!-- Footer  -->
        {# <span id="component-footer" data-on-load="@get('/client/component/footer')"></span> #}
        {% include "footer.html" %}

        <!-- Settings -->
        <span id="component-settings" data-on-signal-patch="@get('/client/component/settings-content')"
            data-on-signal-patch-filter="{include: /client_id/}">
        </span>
        <dialog id="settings_modal" class="modal">
            <!-- Settings Modal Content -->
            <div id="component-settings-content"></div>
            <form method="dialog" class="modal-backdrop">
                <button>close</button>
            </form>
        </dialog>

    </div>

</body>

</html>